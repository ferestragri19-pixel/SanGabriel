:root{
  --brand:#ff6a00;
  --brand-700:#e65f00;
  --dark:#181818;
  --dark-2:#111213;
  --light:#f3f4f6;
  --muted:#c9c9c9;
  --text:#eaeaea;
  --radius:12px;
  --shadow-elev:0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--dark-2);color:var(--text);line-height:1.55}
img{max-width:100%;display:block}
.container{width:min(1120px,92%);margin-inline:auto}

/* Topbar */
.topbar{background:#e6e7eb;color:#0f0f0f;position:sticky;top:0;z-index:50;transition:box-shadow .3s ease,background .3s ease}
.topbar.scrolled{box-shadow:0 8px 24px rgba(0,0,0,.18);background:#e6e7ebd0;backdrop-filter:saturate(120%) blur(3px)}
.nav{display:flex;align-items:center;gap:24px;justify-content:space-between;padding:10px 0}
.brand img{height:32px; width:auto}
.menu{display:flex;gap:22px;font-weight:600}
.menu a{color:#1f2937;text-decoration:none;font-size:14px;position:relative}
.menu a::after{content:"";position:absolute;left:0;bottom:-6px;width:0;height:2px;background:var(--brand);transition:width .25s ease}
.menu a:hover{color:var(--brand)}
.menu a:hover::after{width:100%}
.btn{display:inline-block;border-radius:999px;padding:10px 18px;font-weight:700;text-decoration:none;transition:transform .2s ease, box-shadow .25s ease, background .25s ease}
.btn-primary{background:var(--brand);color:white}
.btn-primary:hover{background:var(--brand-700);transform:translateY(-1px);box-shadow:0 8px 18px rgba(255,106,0,.3)}
.btn-dark{background:#0f0f10;color:#fff}
.btn-dark:hover{filter:brightness(1.05);transform:translateY(-1px);box-shadow:0 8px 18px rgba(0,0,0,.45)}
.btn-whatsapp{background:#25d366;color:#fff;display:inline-flex;align-items:center;gap:8px}
.btn-whatsapp::before{content:"";width:18px;height:18px;display:inline-block;background:no-repeat center/contain url('whatsapp.svg')}

/* Mobile nav toggle */
.menu-toggle{display:none;background:#0f0f10;color:#fff;border:none;border-radius:10px;padding:8px 12px;font-weight:800;line-height:0}
.menu-toggle svg{width:26px;height:26px}
.menu-toggle line{stroke:#fff;stroke-width:2.6;stroke-linecap:round;transition:transform .25s ease, opacity .2s ease;transform-box:fill-box;transform-origin:center}
/* Animate to X when open */
.nav.open .menu-toggle .l1{transform:translateY(6px) rotate(45deg)}
.nav.open .menu-toggle .l2{opacity:0}
.nav.open .menu-toggle .l3{transform:translateY(-6px) rotate(-45deg)}
@media (max-width: 840px){
  .menu-toggle{display:inline-flex;align-items:center;justify-content:center}
  .topbar .nav{position:relative}
  .topbar .menu{display:none;position:absolute;left:0;right:0;top:100%;background:#e6e7eb;border-radius:10px;padding:12px 16px;flex-direction:column;gap:10px;box-shadow:0 10px 24px rgba(0,0,0,.18)}
  .topbar .nav.open .menu{display:flex}
  .topbar .btn-whatsapp{display:none}
}

/* Hero */
.hero{position:relative;isolation:isolate}
.hero__media{position:relative;height:64vh;min-height:420px;max-height:720px;overflow:hidden}
.hero__media img{width:100%;height:100%;object-fit:cover;object-position:center}
.hero__media .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.55) 60%, rgba(24,24,24,1) 92%)}
.hero__content{position:absolute;inset:0;display:grid;place-content:center;gap:16px;text-align:center}
.hero h1{font-size:clamp(34px,6.6vw,64px);line-height:1.05;margin:0;font-weight:800;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.35)}
.hero .lead{max-width:720px;margin-inline:auto;color:#f3f4f6;opacity:.95}
.hero .btn{justify-self:center;margin-top:6px}
.hero__curve{position:absolute;left:0;right:0;bottom:-1px;height:28px;background:var(--dark-2);border-top-left-radius:24px;border-top-right-radius:24px;z-index:1}

/* Sections */
.section-dark{background:var(--dark-2);padding:48px 0;scroll-margin-top:72px}
.section-light{background:#e6e7eb;color:#0f0f10;padding:48px 0;scroll-margin-top:72px}
.section-brand{background:var(--brand);color:#111;padding:48px 0;scroll-margin-top:72px}

/* Intro */
.intro__text{font-size:22px;text-align:center;max-width:980px;margin:0 auto;font-weight:600}

/* Cards */
.cards__grid{display:grid;gap:32px;align-items:stretch}
.cards__grid--two{grid-template-columns:repeat(2,1fr)}
.cards__grid--three{grid-template-columns:repeat(3,1fr)}
.card{background:#1f1f1f;border:2px solid var(--brand);border-radius:8px;padding:18px;display:flex;flex-direction:column;align-items:center;text-align:center;gap:12px;transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease}
.card h3{margin:0 0 6px 0;font-size:18px;color:#eaeaea}
.card__media{width:100%;aspect-ratio:16/9;border-radius:6px;overflow:hidden;background:#0b0b0b}
.card__media img{width:100%;height:100%;object-fit:cover}
.card .btn{align-self:center;margin-top:2px}
.card:hover{transform:translateY(-6px);box-shadow:var(--shadow-elev);border-color:var(--brand-700)}

/* Features */
.features h2,.projects h2,.contact h2,.faqs h2{margin:0 0 22px 0;font-size:clamp(22px,3.2vw,34px)}
.features__grid{display:grid;grid-template-columns:repeat(4,1fr);gap:28px}
.feature{display:flex;gap:12px;align-items:flex-start}
.feature__icon{min-width:44px;min-height:44px;display:grid;place-items:center;color:var(--brand);transition:transform .25s ease}
.feature__icon svg{width:32px;height:32px}
.feature:hover .feature__icon{transform:scale(1.06)}
.feature p{margin:0;color:#1f2937}
.section-light .feature p{color:#222}
/* Experience section dark theme override */
#experiencia.section-dark{background:#000;color:#fff}
#experiencia.section-dark h2{color:#fff}
#experiencia.section-dark .feature__icon{color:var(--brand)}
#experiencia.section-dark .feature p{color:#eaeaea}

/* Projects */
.projects{padding-top:24px}

/* Contact */
.contact .form{display:grid;gap:14px}
.form__row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.form__row:nth-child(2){grid-template-columns:1fr}
.form input,.form textarea{width:100%;padding:12px 14px;border-radius:4px;border:2px solid rgba(0,0,0,.4);background:rgba(0,0,0,.08);color:#111;font-weight:600}
.form textarea{resize:vertical}
.form__actions{display:flex;justify-content:center;margin-top:6px}
.alt-contact{margin:12px 0 0 0;text-align:center;font-weight:600}
.alt-contact .chip{display:inline-block;background:#fff;border-radius:999px;padding:6px 10px;color:#111;text-decoration:none}
/* Alinear título con el formulario en contacto */
.contact.section-brand h2{max-width:860px;margin:0 auto 22px auto}

/* FAQs */
.faq-list{display:grid;gap:10px}
.faq summary{cursor:pointer;list-style:none;position:relative;padding:14px 36px 14px 0;font-weight:600;border-bottom:2px solid rgba(255,255,255,.25)}
.faq summary::marker{display:none}
.faq summary::after{content:'+';position:absolute;right:2px;top:10px;font-size:22px;line-height:1}
.faq[open] summary::after{content:'−'}
.faq p{margin:8px 0 18px 0;color:#d7d7d7}

/* Footer */
.footer__grid{display:grid;grid-template-columns:220px 1fr 1fr;gap:28px;align-items:start}
.footer__brand img{width:140px;opacity:.9}
.footer__links a{display:block;color:#1f2937;text-decoration:none;margin:6px 0}
.footer__links a:hover{color:var(--brand)}
.copy{padding:12px 0;color:#4b5563}

/* Utilities */
.section-dark h2{color:#fff}
.cards.section-dark{padding-top:16px}

/* Responsive */
@media (max-width: 1000px){
  .features__grid{grid-template-columns:repeat(2,1fr)}
  .cards__grid--three{grid-template-columns:repeat(2,1fr)}
}
@media (max-width: 720px){
  .menu{display:none}
  .cards__grid--two{grid-template-columns:1fr}
  .cards__grid--three{grid-template-columns:1fr}
  .form__row{grid-template-columns:1fr !important}
}

/* Motion preferences */
@media (prefers-reduced-motion: reduce){
  *{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}
}

/* Servicios split layout */
.split{display:grid;grid-template-columns:1.15fr 1fr;gap:32px;align-items:center}
.split--reverse{grid-auto-flow:column;direction:rtl}
.split--reverse > *{direction:ltr}
.split__text h2{margin:0 0 14px 0;font-size:clamp(22px,3vw,32px)}
.split__media{margin:0}
.split__media img{width:100%;height:auto;border-radius:10px;display:block}
.bullets{padding-left:0;margin:0 0 16px 0;list-style:none;display:grid;gap:12px;color:#1f2937}
.section-light .bullets{color:#222}
.bullets li{position:relative;padding-left:20px}
.bullets li::before{content:"•";position:absolute;left:0;top:-1px;color:var(--brand);font-size:20px;line-height:1}
.hero--sm .hero__media{height:46vh;min-height:360px}
@media (max-width: 900px){
  .split{grid-template-columns:1fr;gap:18px}
  .split--reverse{direction:ltr}
}

/* Netlify honeypot */
.hp{display:none !important}

/* Scroll reveal */
.reveal{opacity:0;transform:translateY(14px);transition:opacity .6s ease, transform .6s ease;transition-delay:var(--delay,0ms);will-change:transform,opacity}
.in-view{opacity:1;transform:none}
@media (prefers-reduced-motion: reduce){.reveal{opacity:1 !important;transform:none !important}}
/* Contact form visual per design */
.section-brand .form{gap:18px}
.section-brand .form .form__row{gap:18px}
.section-brand .form input,
.section-brand .form textarea{
  background:transparent;
  color:#111;
  border:3px solid #4a4a4a;
  box-shadow:none;
  padding:18px 20px;
  font-size:clamp(18px,3vw,28px);
  font-weight:600;
}
.section-brand .form textarea{min-height:260px}
.section-brand ::placeholder{color:#5a5a5a;opacity:1}
.contact .form .btn-dark{
  padding:16px 36px;
  font-size:20px;
  border-radius:40px;
  min-width:220px;
}
.alt-contact{font-size:clamp(18px,2.8vw,28px)}
.alt-contact .chip{background:#e5e7eb;color:#111;padding:10px 16px}
/* Contact form tweaks: smaller and full-width rows */
.section-brand .form .form__row:first-child{grid-template-columns:1fr 1fr}
.section-brand .form .form__row:nth-child(2),
.section-brand .form .form__row:nth-child(3){grid-template-columns:1fr}
.section-brand .form input,
.section-brand .form textarea{
  padding:12px 14px;
  border:2px solid #444;
  font-size:clamp(14px,2vw,18px);
}
.section-brand .form textarea{min-height:160px}
.contact .form .btn-dark{padding:12px 24px;font-size:16px;min-width:160px}
.alt-contact{font-size:clamp(16px,2.2vw,20px)}
.alt-contact .chip{padding:6px 10px}
/* Contact form layout refinements (exact like mock) */
.section-brand .form{max-width:980px;margin-inline:auto}
.section-brand .form .form__row{gap:12px}
.section-brand .form .form__row:first-child{grid-template-columns:1fr 1fr}
.section-brand .form .form__row:nth-child(2){grid-template-columns:1fr}
.section-brand .form .form__row:nth-child(3){grid-template-columns:1fr}
.section-brand .form input,
.section-brand .form textarea{border:3px solid #4a4a4a;padding:14px 16px;font-size:clamp(16px,2.2vw,20px)}
.section-brand .form textarea{min-height:240px}
/* Final tune: match mock exactly */
.section-brand .form{max-width:980px;margin-inline:auto}
.section-brand .form .form__row:first-child{grid-template-columns:1fr 1fr}
.section-brand .form .form__row:nth-child(2),
.section-brand .form .form__row:nth-child(3){grid-template-columns:1fr}
.section-brand .form input,
.section-brand .form textarea{background:transparent;border:3px solid #4a4a4a;padding:14px 16px;font-size:18px}
.section-brand .form textarea{min-height:280px}
/* Enforce equal widths in contact form */
.contact.section-brand .form .form__row{display:grid}
.contact.section-brand .form .form__row:first-child{grid-template-columns:1fr 1fr}
.contact.section-brand .form .form__row:nth-of-type(2),
.contact.section-brand .form .form__row:nth-of-type(3){grid-template-columns:1fr}
.contact.section-brand .form .form__row > input,
.contact.section-brand .form .form__row > textarea{width:100% !important; display:block}
/* Ensure inner wrappers stretch so textarea spans full width */
.contact.section-brand .form .form__row .f{width:100%}
.contact.section-brand .form textarea{width:100% !important}
/* Compact contact form tweak */
.contact.section-brand .form{max-width:860px}
.contact.section-brand .form .form__row{gap:10px}
.contact.section-brand .form input,
.contact.section-brand .form textarea{padding:10px 12px;border-width:2px;font-size:16px}
.contact.section-brand .form textarea{min-height:200px}
.contact .form .btn-dark{padding:10px 22px;font-size:15px;min-width:140px}

/* Boxed form wrapper (used in contacto.html) */
.form--box{
  background:#ffffff;
  border:2px solid #e5e7eb;
  border-radius:12px;
  padding:18px;
  box-shadow:var(--shadow-elev);
  max-width:980px;
  margin-inline:auto;
}

/* Readability: light text in dark sections */
.section-dark .feature p{color:#eaeaea}


/* Improve contrast: dark cards on light sections */
.section-light .card{color:#eaeaea}
.section-light .card p{color:#eaeaea}


/* Header sizing consistency */
.topbar .nav{min-height:56px;padding-block:10px}
.brand img{height:32px}


/* Nav readability tweak */
.menu a{font-size:16px}


/* Increase spacing between menu links */
.menu{gap:26px}


/* Topbar size parity with index hero screenshot */
.topbar .container{width:min(1240px,94%)}
.topbar .nav{min-height:72px;padding-block:16px}
.menu{gap:28px}
.menu a{font-size:18px;font-weight:700}
.brand img{height:36px}
.btn-whatsapp{padding:12px 22px;font-size:16px}

/* Gallery grid */
.gallery{display:grid;gap:18px;grid-template-columns:repeat(3,1fr)}
.gallery__item{border-radius:10px;overflow:hidden;background:#0f0f10}
.gallery__item img{width:100%;height:100%;object-fit:cover;aspect-ratio:16/10;transition:transform .35s ease}
.gallery__item:hover img{transform:scale(1.03)}

/* Solar calculator */
.solar-calc{background:#1f1f1f;border:2px solid var(--brand);border-radius:12px;padding:18px;display:grid;gap:12px;color:#eaeaea}
.solar-calc .row{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.solar-calc label{display:grid;gap:6px;font-weight:600}
.solar-calc input{padding:10px 12px;border-radius:6px;border:2px solid #333;background:#0e0e0e;color:#fff}
.solar-calc .actions{display:flex;justify-content:center;margin-top:4px}
.solar-calc .result{margin-top:8px;background:#0f0f10;border-radius:8px;padding:12px;color:#eaeaea}
.solar-calc .note{opacity:.8}

@media (max-width: 900px){
  .gallery{grid-template-columns:repeat(2,1fr)}
  .solar-calc .row{grid-template-columns:1fr}
}
@media (max-width: 560px){
  .gallery{grid-template-columns:1fr}
}
/* Tighten spacing inside project cards */
.cards__grid .card{padding:12px;gap:8px}
.cards__grid .card h3{margin:0 0 8px 0}
.cards__grid .card__media{margin:4px 0}
.cards__grid .card p{margin:4px 0}
.cards__grid .card .btn{margin-top:6px}
/* Form validation visuals */
.form .f .error{display:none;font-size:12px;color:#ffe0e0;margin-top:4px}
.form .f.invalid .error{display:block}
.form input.invalid,.form select:invalid,.form textarea.invalid{border-color:#e11d48;box-shadow:0 0 0 2px rgba(225,29,72,.15) inset}
.form select:invalid{color:#555}
.consent.invalid{outline:2px solid #e11d48;outline-offset:4px}
/* Stack form layout like reference */
.section-brand .form--stack{max-width:980px;margin-inline:auto;gap:14px}
.section-brand .form--stack .form__row{grid-template-columns:1fr;gap:14px}
.section-brand .form--stack .form__row.two{grid-template-columns:1fr 1fr}
.section-brand .form--stack label{font-weight:700;color:#111;margin:0 0 6px 2px}
.section-brand .form--stack .f input,
.section-brand .form--stack .f select,
.section-brand .form--stack .f textarea{
  background:#fff;border:2px solid #d1d5db;color:#111;padding:12px 14px;border-radius:8px;box-shadow:0 1px 0 rgba(0,0,0,.03) inset
}
.section-brand .form--stack .f textarea{min-height:180px}
.section-brand .form--stack ::placeholder{color:#9aa1a9}
@media (max-width: 720px){
  .section-brand .form--stack .form__row.two{grid-template-columns:1fr}
}

/* Workflow (steps) section */
.workflow .kicker{display:inline-block;background:#eef2f7;color:#0f0f10;padding:6px 10px;border-radius:999px;font-weight:700;margin:0 0 8px 0}
.workflow h2{margin:0 0 10px 0;font-size:clamp(24px,3.6vw,40px);line-height:1.15;color:#0f0f10}
.workflow p.lead{margin:0 0 16px 0;color:#1f2937}
.workflow__grid{display:grid;grid-template-columns:1.1fr 1fr;gap:28px;align-items:start}
.steps{display:grid;gap:8px;list-style:none;padding:0;margin:0}
.step{display:grid;grid-template-columns:auto 1fr;gap:14px;padding:14px 0;border-bottom:1px solid #e5e7eb}
.step:last-child{border-bottom:none}
.step__num{width:36px;height:36px;border-radius:50%;display:grid;place-items:center;background:rgba(255,106,0,.12);color:var(--brand);font-weight:800}
.step h4{margin:0 0 4px 0;color:#0f0f10}
.step p{margin:0;color:#374151}
@media (max-width: 900px){
  .workflow__grid{grid-template-columns:1fr}
}

